# Requirements Document

## Introduction

植物の状態を監視するIoTシステムを開発します。このシステムは、センサーを使用して植物の健康状態に関する重要な環境データ（土壌湿度、温度、湿度、光量など）をリアルタイムで収集し、ユーザーがWebインターフェースを通じて植物の状態を監視できるようにします。また、植物が適切でない環境にある場合にはアラート機能を提供します。

## Requirements

### Requirement 1

**User Story:** 植物の所有者として、植物の土壌湿度をリアルタイムで監視したいので、適切な水やりのタイミングを知ることができる

#### Acceptance Criteria

1. WHEN 土壌湿度センサーがデータを取得した時 THEN システムは湿度値をパーセンテージで記録する
2. WHEN 土壌湿度が設定した最低値を下回った時 THEN システムはアラート通知を送信する
3. WHEN ユーザーがWebインターフェースにアクセスした時 THEN 現在の土壌湿度が表示される

### Requirement 2

**User Story:** 植物の所有者として、植物周辺の温度と湿度を監視したいので、植物が適切な環境にあることを確認できる

#### Acceptance Criteria

1. WHEN 温湿度センサーがデータを取得した時 THEN システムは温度（摂氏）と湿度（パーセンテージ）を記録する
2. WHEN 温度が設定した範囲外になった時 THEN システムはアラート通知を送信する
3. WHEN 湿度が設定した範囲外になった時 THEN システムはアラート通知を送信する

### Requirement 3

**User Story:** 植物の所有者として、植物が受けている光量を監視したいので、適切な場所に配置されているかを確認できる

#### Acceptance Criteria

1. WHEN 光センサーがデータを取得した時 THEN システムは光量をルクス単位で記録する
2. WHEN 光量が設定した最低値を下回った時 THEN システムはアラート通知を送信する
3. WHEN ユーザーがWebインターフェースにアクセスした時 THEN 現在の光量が表示される

### Requirement 4

**User Story:** 植物の所有者として、過去のデータを確認したいので、植物の状態の変化を追跡できる

#### Acceptance Criteria

1. WHEN センサーデータが取得された時 THEN システムはタイムスタンプ付きでデータを保存する
2. WHEN ユーザーがWebインターフェースにアクセスした時 THEN 過去24時間のデータがグラフで表示される
3. WHEN ユーザーが期間を選択した時 THEN 指定した期間のデータが表示される

### Requirement 5

**User Story:** 植物の所有者として、アラート設定をカスタマイズしたいので、自分の植物に適した監視ができる

#### Acceptance Criteria

1. WHEN ユーザーが設定画面にアクセスした時 THEN 各センサーの閾値を設定できる
2. WHEN ユーザーが閾値を変更した時 THEN システムは新しい設定を保存する
3. WHEN アラート条件が満たされた時 THEN 設定された方法（メール、ブラウザ通知など）で通知が送信される

### Requirement 6

**User Story:** 植物の所有者として、リアルタイムでデータを確認したいので、最新の植物の状態を常に把握できる

#### Acceptance Criteria

1. WHEN センサーが新しいデータを送信した時 THEN Webインターフェースは自動的に更新される
2. WHEN ユーザーがWebページを開いている時 THEN データは5秒間隔で更新される
3. WHEN センサーとの接続が失われた時 THEN システムは接続状態を表示する